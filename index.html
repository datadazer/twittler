<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type"text/css" href="stylesheet.css">
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        var $container = $('<div id=\'container\'></div>');
        var $logo = $('<div id=\'logo\'></div>');
        var currentUsers = ["@shawndrost","@sharksforcheap","@mracus","@douglascalhoun"];
        var garbage;
        var updated = false;
        var $nav = $('<ul id=\'menu\'><li>'+currentUsers[0]+'</li><li>'+currentUsers[1]+'</li><li>'+currentUsers[2]+'</li><li>'+currentUsers[3]+'</li></ul>')
        $body.html('');
                        $body.prepend($logo);
        $container.appendTo($body);
        $container.text('');
                        $('#logo').text('');
        var $searchButton = $('<div id="searchButton"><div>');
                        $searchButton.text("Sort By");
                        $container.after($searchButton);
        var index = streams.home.length - 1;
        initializeTweet();
        function initializeTweet() {
          while(index >= 0){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            $tweet.text('@' + tweet.user + ': ' + tweet.message);
            $tweet.appendTo($container);
            index -= 1;
          }
                        if(updated == false){
                        updateTweet();
                        }

        };
                        //updateTweet();
                        
                        function updateTweet () {
                                   setTimeout(function(){
                                     $container.find('div').first().remove();
                                     garbage = streams.home.pop();
                                     streams.home.unshift(streams.home[streams.home.length-1]);
                                     garbage = [];
                                     index += 1;
                                     initializeTweet();
                                     },3000);
                        };
            /*$searchButton.hover(
                   function(){
                   $('#menu').children().slideDown(200);
                   $searchButton.after($nav);
                   },
                   function(){
                   $('#menu').children().slideUp(200);
                   });*/
                        $searchButton.click(function(){
                                            $('#menu').children().slideToggle();//slideDown(200);
                                         $searchButton.after($nav);
                                            });
      });
      
    </script>
  </body>
</html>
